# uservalue.jp ドメイン設定ガイド

このガイドでは、お名前.comで取得した **uservalue.jp** ドメインをVercelにデプロイしたWebサイトに接続する手順を説明します。

---

## 🎯 設定の流れ

1. **Vercelでカスタムドメインを追加**
2. **お名前.comでDNS設定**
3. **DNS伝播を待つ（最大48時間、通常は数分〜数時間）**
4. **動作確認**

---

## ステップ1: Vercelでカスタムドメインを追加

### 1-1. Vercelにログイン

1. [Vercel Dashboard](https://vercel.com/dashboard) にアクセス
2. GitHubアカウントでログイン

### 1-2. プロジェクトを選択

1. ダッシュボードから **User Value Inc.** プロジェクト（またはデプロイしたプロジェクト名）をクリック
2. 上部メニューの **Settings** タブをクリック

### 1-3. ドメインを追加

1. 左サイドバーから **Domains** を選択
2. 「Add Domain」ボタンをクリック
3. 以下の3つのドメインを順番に追加：
   - `uservalue.jp`
   - `www.uservalue.jp`
   
4. 各ドメインを入力して「Add」をクリック

### 1-4. DNS設定情報を確認

Vercelが以下のような情報を表示します：

#### パターンA: Aレコードを使用する場合
```
Type: A
Name: @
Value: 76.76.21.21
```

#### パターンB: CNAMEレコードを使用する場合
```
Type: CNAME
Name: @
Value: cname.vercel-dns.com
```

**⚠️ 重要**: この情報をメモしておいてください！次のステップで使用します。

---

## ステップ2: お名前.comでDNS設定

### 2-1. お名前.comにログイン

1. [お名前.com Navi](https://www.onamae.com/navi/login/) にアクセス
2. お名前ID（会員ID）とパスワードでログイン

### 2-2. DNS設定画面へ移動

1. トップページから **「ドメイン設定」** をクリック
2. **「DNS設定/転送設定」** を選択
3. **uservalue.jp** の横にある **「DNS設定」** をクリック

### 2-3. DNSレコードを設定

#### オプションA: Aレコードで設定（推奨）

1. **「DNSレコード設定を利用する」** の **「設定する」** ボタンをクリック
2. 以下のレコードを追加：

**レコード1: ルートドメイン用**
```
ホスト名: （空欄）
TYPE: A
VALUE: 76.76.21.21
TTL: 3600
```

**レコード2: wwwサブドメイン用**
```
ホスト名: www
TYPE: CNAME
VALUE: cname.vercel-dns.com
TTL: 3600
```

3. **「追加」** ボタンをクリック
4. 内容を確認して **「確認画面へ進む」** をクリック
5. **「設定する」** をクリックして完了

#### オプションB: ネームサーバーで設定（上級者向け）

1. **「ネームサーバーの変更」** を選択
2. **「その他のネームサーバーを使う」** を選択
3. Vercelのネームサーバーを入力：
   ```
   ns1.vercel-dns.com
   ns2.vercel-dns.com
   ```
4. **「確認」** → **「OK」** をクリック

### 2-4. 設定完了

お名前.comでの設定が完了しました！

---

## ステップ3: DNS伝播を待つ

DNS設定が世界中に伝播するまで時間がかかります：

- **最短**: 数分
- **通常**: 1〜6時間
- **最大**: 48時間

### 伝播状況の確認方法

以下のツールで確認できます：

1. **DNSチェッカー**: https://dnschecker.org/
   - ドメイン名に `uservalue.jp` を入力
   - レコードタイプで `A` を選択
   - 「Search」をクリック
   - 世界中のDNSサーバーでの伝播状況が確認できます

2. **ターミナルで確認**:
   ```bash
   # macOS/Linux
   dig uservalue.jp
   
   # または
   nslookup uservalue.jp
   ```

---

## ステップ4: 動作確認

### 4-1. Vercelで確認

1. Vercel Dashboard → プロジェクト → Settings → Domains
2. ドメインの横に **緑のチェックマーク** が表示されればOK
3. エラーが表示される場合は、DNS設定を再確認

### 4-2. ブラウザで確認

1. ブラウザで `https://uservalue.jp` にアクセス
2. Webサイトが正しく表示されることを確認
3. `https://www.uservalue.jp` でもアクセスできることを確認

### 4-3. SSL証明書の確認

- Vercelは自動的にSSL証明書（Let's Encrypt）を発行します
- ドメインが正しく設定されていれば、数分でHTTPSが有効になります
- ブラウザのアドレスバーに **🔒 鍵マーク** が表示されればOK

---

## 🔧 トラブルシューティング

### ドメインが表示されない

1. **DNS設定を確認**
   - お名前.comで設定したレコードが正しいか確認
   - Vercelで表示された値と一致しているか確認

2. **キャッシュをクリア**
   - ブラウザのキャッシュをクリア
   - シークレットモードで試す

3. **時間を待つ**
   - DNS伝播には時間がかかります
   - 最大48時間待ってみてください

### Vercelでエラーが表示される

#### "Invalid Configuration"
- DNS設定が正しくない可能性があります
- お名前.comの設定を再確認してください

#### "DNS Not Configured"
- まだDNS伝播が完了していません
- 数時間待ってから再度確認してください

### SSL証明書のエラー

- DNS設定が完了してから数分〜数時間かかります
- Vercelのダッシュボードで証明書の発行状況を確認できます

---

## 📋 チェックリスト

設定完了の確認用チェックリスト：

- [ ] Vercelにログインできる
- [ ] Vercelでドメインを追加した（uservalue.jp、www.uservalue.jp）
- [ ] VercelからDNS設定情報を取得した
- [ ] お名前.comにログインできる
- [ ] お名前.comでDNSレコードを設定した
- [ ] DNSチェッカーで伝播を確認した
- [ ] https://uservalue.jp でサイトが表示される
- [ ] https://www.uservalue.jp でサイトが表示される
- [ ] SSL証明書が有効（🔒マークが表示される）

---

## 💡 ヒント

### wwwあり/なしのリダイレクト

Vercelは自動的に以下のリダイレクトを設定します：
- `www.uservalue.jp` → `uservalue.jp` （推奨）
- または逆方向

設定を変更したい場合は、Vercel Dashboard → Settings → Domains で変更できます。

### メールアドレスの設定

ドメインを取得しただけでは、`info@uservalue.jp` のようなメールアドレスは使えません。

メールアドレスを使いたい場合は、以下のサービスを検討してください：
- **Google Workspace**（有料、月額680円〜）
- **Zoho Mail**（無料プランあり）
- **お名前メール**（お名前.comのサービス）

---

## 🎉 完了！

設定が完了すれば、`https://uservalue.jp` で世界中からあなたのWebサイトにアクセスできるようになります！

次は [お問い合わせフォームの設定](./CONTACT_FORM_SETUP.md) を進めましょう。
